{"ast":null,"code":"var _jsxFileName = \"/Users/hahn/Desktop/React/info-retrieval-frontend/src/pages/query-page/query-page.component.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport qs from 'qs';\nimport DocInfo from '../../components/doc-info/doc-info.component';\nimport AdvancedSearchBox from '../../components/search-box/advanced-search-box/advanced-search-box.component';\nconst SEVER_URL = 'http://localhost:8090';\nconst QUERY_URL = 'query';\n\nclass QueryPage extends Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n\n    this.handelChange = event => {\n      const {\n        value,\n        name\n      } = event.target;\n      this.setState({\n        [name]: value\n      }, () => console.log(name + ':' + value));\n    };\n\n    this.handleSubmit = event => {\n      axios.get(`${SEVER_URL}/${QUERY_URL}`, {\n        params: {\n          title: this.state.title,\n          abstract: this.state.abstract,\n          author: this.state.author\n        }\n      }).then(response => response.data).then(response => this.setState({\n        results: response\n      }));\n    };\n\n    this.state = {\n      title: '',\n      abstract: '',\n      authors: [],\n      results: []\n    };\n  } // only called from the mainpage\n\n\n  componentDidMount() {\n    console.log(this.props);\n    const title = this.props.location.search.substring(1);\n    console.log(title);\n    axios.get(`${SEVER_URL}/${QUERY_URL}/title`, {\n      params: {\n        title: title\n      },\n      paramsSerializer: params => {\n        return qs.stringify(params);\n      }\n    }).then(response => response.data).then(response => this.setState({\n      results: response\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundImage: \"url(\" + require(\"../../assets/img/covid19.jpg\") + \")\"\n      },\n      className: \"page-header page-header-xs\",\n      \"data-parallax\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AdvancedSearchBox, {\n      handlechange: this.handelChange,\n      handlesubmit: this.handleSubmit,\n      states: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    })), this.state.results.map(docinfo => /*#__PURE__*/React.createElement(DocInfo, {\n      key: docinfo.id,\n      info: docinfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 38\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(QueryPage);","map":{"version":3,"sources":["/Users/hahn/Desktop/React/info-retrieval-frontend/src/pages/query-page/query-page.component.jsx"],"names":["React","Component","axios","withRouter","qs","DocInfo","AdvancedSearchBox","SEVER_URL","QUERY_URL","QueryPage","constructor","props","handelChange","event","value","name","target","setState","console","log","handleSubmit","get","params","title","state","abstract","author","then","response","data","results","authors","componentDidMount","location","search","substring","paramsSerializer","stringify","render","backgroundImage","require","map","docinfo","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport {withRouter} from 'react-router-dom';\nimport qs from 'qs';\nimport DocInfo from '../../components/doc-info/doc-info.component';\nimport AdvancedSearchBox from '../../components/search-box/advanced-search-box/advanced-search-box.component';\n\nconst SEVER_URL = 'http://localhost:8090';\nconst QUERY_URL = 'query'\n\nclass QueryPage extends Component {\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            abstract: '',\n            authors: [],\n            results: []\n        }\n    }\n\n    // only called from the mainpage\n    componentDidMount() {\n        console.log(this.props);\n        const title = this\n            .props\n            .location\n            .search\n            .substring(1);\n        console.log(title);\n        axios.get(`${SEVER_URL}/${QUERY_URL}/title`, {\n            params: {\n                title: title\n            },\n            paramsSerializer: params => {\n                return qs.stringify(params)\n            }\n        })\n            .then(response => response.data)\n            .then(response => this.setState({results: response}));\n    }\n\n    handelChange = (event) => {\n        const {value, name} = event.target;\n        this.setState({\n            [name]: value\n        }, () => console.log(name + ':' + value));\n    }\n\n    handleSubmit = (event) => {\n        axios\n            .get(`${SEVER_URL}/${QUERY_URL}`, {\n            params: {\n                title: this.state.title,\n                abstract: this.state.abstract,\n                author: this.state.author\n            }\n        })\n            .then(response => response.data)\n            .then(response => this.setState({results: response}));\n    }\n\n    render() {\n        return (\n            <div>\n                <div\n                    style={{\n                    backgroundImage: \"url(\" + require(\"../../assets/img/covid19.jpg\") + \")\"\n                }}\n                    className=\"page-header page-header-xs\"\n                    data-parallax={true}>\n                    <div className=\"filter\"/>\n\n                </div>\n                <div>\n                    <AdvancedSearchBox\n                        handlechange={this.handelChange}\n                        handlesubmit={this.handleSubmit}\n                        states={this.state}/>\n                </div>\n                {this\n                    .state\n                    .results\n                    .map(docinfo => (<DocInfo key={docinfo.id} info={docinfo}/>))\n}\n\n            </div>\n        );\n    }\n}\n\nexport default withRouter(QueryPage);"]},"metadata":{},"sourceType":"module"}