{"ast":null,"code":"var _jsxFileName = \"/Users/hahn/Desktop/React/info-retrieval-frontend/src/pages/query-page/query-page.component.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nimport DocInfo from '../../components/doc-info/doc-info.component';\nimport AdvancedSearchBox from '../../components/search-box/simple-search-box/simple-search-box.component';\nconst SEVER_URL = 'http://localhost:8090';\nconst QUERY_URL = 'query';\n\nclass QueryPage extends Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n\n    this.handelChange = event => {\n      const {\n        value,\n        name\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault(); // this\n      //     .props\n      //     .history\n      //     .push({pathname: '/query', search: '?title:' + this.state.title});\n    };\n\n    this.state = {\n      title: '',\n      abstract: '',\n      author: '',\n      results: []\n    };\n  } // only called from the mainpage\n\n\n  componentDidMount() {\n    console.log(this.props);\n    const title = this.props.location.search.substring(1);\n    console.log(title);\n    axios.get(`${SEVER_URL}/${QUERY_URL}/title`, {\n      params: {\n        title: title\n      }\n    }).then(response => response.data).then(response => this.setState({\n      results: response\n    })).then(res => console.log(this.state.results));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AdvancedSearchBox, {\n      handlechange: this.handelChange,\n      handlesubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, \"This is the QueryPage\"), this.state.results.map(docinfo => /*#__PURE__*/React.createElement(DocInfo, {\n      key: docinfo.id,\n      info: docinfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 38\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(QueryPage);","map":{"version":3,"sources":["/Users/hahn/Desktop/React/info-retrieval-frontend/src/pages/query-page/query-page.component.jsx"],"names":["React","Component","axios","withRouter","DocInfo","AdvancedSearchBox","SEVER_URL","QUERY_URL","QueryPage","constructor","props","handelChange","event","value","name","target","setState","handleSubmit","preventDefault","state","title","abstract","author","results","componentDidMount","console","log","location","search","substring","get","params","then","response","data","res","render","map","docinfo","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,OAAP,MAAoB,8CAApB;AACA,OAAOC,iBAAP,MAA8B,2EAA9B;AAEA,MAAMC,SAAS,GAAG,uBAAlB;AACA,MAAMC,SAAS,GAAG,OAAlB;;AAEA,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;AAC9B;AACAQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA0BnBC,YA1BmB,GA0BHC,KAAD,IAAW;AACtB,YAAM;AAAEC,QAAAA,KAAF;AAASC,QAAAA;AAAT,UAAkBF,KAAK,CAACG,MAA9B;AACA,WAAKC,QAAL,CAAc;AAAC,SAACF,IAAD,GAAQD;AAAT,OAAd;AACH,KA7BkB;;AAAA,SA+BnBI,YA/BmB,GA+BHL,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN,GADsB,CAEtB;AACA;AACA;AACA;AACH,KArCkB;;AAEf,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,MAAM,EAAE,EAHC;AAITC,MAAAA,OAAO,EAAE;AAJA,KAAb;AAMH,GAV6B,CAY9B;;;AACAC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAjB;AACA,UAAMU,KAAK,GAAG,KAAKV,KAAL,CAAWiB,QAAX,CAAoBC,MAApB,CAA2BC,SAA3B,CAAqC,CAArC,CAAd;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAlB,IAAAA,KAAK,CACA4B,GADL,CACU,GAAExB,SAAU,IAAGC,SAAU,QADnC,EAC4C;AACxCwB,MAAAA,MAAM,EAAE;AACJX,QAAAA,KAAK,EAAEA;AADH;AADgC,KAD5C,EAMKY,IANL,CAMUC,QAAQ,IAAIA,QAAQ,CAACC,IAN/B,EAOKF,IAPL,CAOUC,QAAQ,IAAI,KAAKjB,QAAL,CAAc;AAACO,MAAAA,OAAO,EAAEU;AAAV,KAAd,CAPtB,EAQKD,IARL,CAQUG,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWI,OAAvB,CARjB;AASH;;AAeDa,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,iBAAD;AAAmB,MAAA,YAAY,EAAE,KAAKzB,YAAtC;AAAoD,MAAA,YAAY,EAAE,KAAKM,YAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAHJ,EAKK,KACIE,KADJ,CAEII,OAFJ,CAGIc,GAHJ,CAGQC,OAAO,iBAAK,oBAAC,OAAD;AAAS,MAAA,GAAG,EAAEA,OAAO,CAACC,EAAtB;AAA0B,MAAA,IAAI,EAAED,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHpB,CALL,CADJ;AAaH;;AAvD6B;;AA0DlC,eAAenC,UAAU,CAACK,SAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport {withRouter} from 'react-router-dom';\nimport DocInfo from '../../components/doc-info/doc-info.component';\nimport AdvancedSearchBox from '../../components/search-box/simple-search-box/simple-search-box.component';\n\nconst SEVER_URL = 'http://localhost:8090';\nconst QUERY_URL = 'query'\n\nclass QueryPage extends Component {\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            abstract: '',\n            author: '',\n            results: []\n        }\n    }\n\n    // only called from the mainpage\n    componentDidMount() {\n        console.log(this.props);\n        const title = this.props.location.search.substring(1);\n        console.log(title);\n        axios\n            .get(`${SEVER_URL}/${QUERY_URL}/title`, {\n            params: {\n                title: title\n            }\n        })\n            .then(response => response.data)\n            .then(response => this.setState({results: response}))\n            .then(res => console.log(this.state.results))\n    }\n\n    handelChange = (event) => {\n        const { value, name } = event.target;\n        this.setState({[name]: value});\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        // this\n        //     .props\n        //     .history\n        //     .push({pathname: '/query', search: '?title:' + this.state.title});\n    }\n\n    render() {\n        return (\n            <div>\n                <AdvancedSearchBox handlechange={this.handelChange} handlesubmit={this.handleSubmit} />\n\n                <h1>This is the QueryPage</h1>\n\n                {this\n                    .state\n                    .results\n                    .map(docinfo => (<DocInfo key={docinfo.id} info={docinfo}/>))\n}\n            </div>\n        );\n    }\n}\n\nexport default withRouter(QueryPage);"]},"metadata":{},"sourceType":"module"}