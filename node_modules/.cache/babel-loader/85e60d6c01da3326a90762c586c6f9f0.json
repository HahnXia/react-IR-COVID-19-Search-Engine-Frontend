{"ast":null,"code":"import _defineProperty from\"/Users/hahn/Desktop/React/info-retrieval-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/hahn/Desktop/React/info-retrieval-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hahn/Desktop/React/info-retrieval-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hahn/Desktop/React/info-retrieval-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hahn/Desktop/React/info-retrieval-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{withRouter}from'react-router-dom';import qs from'qs';import DocInfo from'../../components/doc-info/doc-info.component';import AdvancedSearchBox from'../../components/search-box/advanced-search-box/advanced-search-box.component';var SEVER_URL='http://localhost:8090';var QUERY_URL='query';var QueryPage=/*#__PURE__*/function(_Component){_inherits(QueryPage,_Component);var _super=_createSuper(QueryPage);// eslint-disable-next-line no-useless-constructor\nfunction QueryPage(props){var _this;_classCallCheck(this,QueryPage);_this=_super.call(this,props);_this.handelChange=function(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;_this.setState(_defineProperty({},name,value),function(){return console.log(name+':'+value);});};_this.handleSubmit=function(event){axios.get(\"\".concat(SEVER_URL,\"/\").concat(QUERY_URL),{params:{title:_this.state.title,abstract:_this.state.abstract,author:_this.state.author}}).then(function(response){return response.data;}).then(function(response){return _this.setState({results:response});});};_this.state={title:'',abstract:'',authors:[],results:[]};return _this;}// only called from the mainpage\n_createClass(QueryPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.props);var title=this.props.location.search.substring(1);console.log(title);axios.get(\"\".concat(SEVER_URL,\"/\").concat(QUERY_URL,\"/title\"),{params:{title:title},paramsSerializer:function paramsSerializer(params){return qs.stringify(params);}}).then(function(response){return response.data;}).then(function(response){return _this2.setState({results:response});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AdvancedSearchBox,{handlechange:this.handelChange,handlesubmit:this.handleSubmit,states:this.state}),/*#__PURE__*/React.createElement(\"h1\",null,\"This is the QueryPage\"),this.state.results.map(function(docinfo){return/*#__PURE__*/React.createElement(DocInfo,{key:docinfo.id,info:docinfo});}));}}]);return QueryPage;}(Component);export default withRouter(QueryPage);","map":{"version":3,"sources":["/Users/hahn/Desktop/React/info-retrieval-frontend/src/pages/query-page/query-page.component.jsx"],"names":["React","Component","axios","withRouter","qs","DocInfo","AdvancedSearchBox","SEVER_URL","QUERY_URL","QueryPage","props","handelChange","event","target","value","name","setState","console","log","handleSubmit","get","params","title","state","abstract","author","then","response","data","results","authors","location","search","substring","paramsSerializer","stringify","map","docinfo","id"],"mappings":"0zBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,EAAP,KAAe,IAAf,CACA,MAAOC,CAAAA,OAAP,KAAoB,8CAApB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+EAA9B,CAEA,GAAMC,CAAAA,SAAS,CAAG,uBAAlB,CACA,GAAMC,CAAAA,SAAS,CAAG,OAAlB,C,GAEMC,CAAAA,S,sGACF;AACA,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EADe,MA4BnBC,YA5BmB,CA4BJ,SAACC,KAAD,CAAW,mBACEA,KAAK,CAACC,MADR,CACdC,KADc,eACdA,KADc,CACPC,IADO,eACPA,IADO,CAEtB,MAAKC,QAAL,oBAAgBD,IAAhB,CAAuBD,KAAvB,EAA+B,iBAAMG,CAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAAG,GAAP,CAAaD,KAAzB,CAAN,EAA/B,EACH,CA/BkB,OAiCnBK,YAjCmB,CAiCJ,SAACP,KAAD,CAAW,CACtBV,KAAK,CACAkB,GADL,WACYb,SADZ,aACyBC,SADzB,EACsC,CAClCa,MAAM,CAAE,CACJC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KADd,CAEJE,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAFjB,CAGJC,MAAM,CAAE,MAAKF,KAAL,CAAWE,MAHf,CAD0B,CADtC,EAQKC,IARL,CAQU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EARlB,EASKF,IATL,CASU,SAAAC,QAAQ,QAAI,OAAKX,QAAL,CAAc,CAACa,OAAO,CAAEF,QAAV,CAAd,CAAJ,EATlB,EAUH,CA5CkB,CAEf,MAAKJ,KAAL,CAAa,CACTD,KAAK,CAAE,EADE,CAETE,QAAQ,CAAE,EAFD,CAGTM,OAAO,CAAE,EAHA,CAITD,OAAO,CAAE,EAJA,CAAb,CAFe,aAQlB,CAED;mFACoB,iBAChBZ,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAjB,EACA,GAAMY,CAAAA,KAAK,CAAG,KAAKZ,KAAL,CAAWqB,QAAX,CAAoBC,MAApB,CAA2BC,SAA3B,CAAqC,CAArC,CAAd,CACAhB,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACApB,KAAK,CACAkB,GADL,WACYb,SADZ,aACyBC,SADzB,WAC4C,CACxCa,MAAM,CAAE,CACJC,KAAK,CAAEA,KADH,CADgC,CAIxCY,gBAAgB,CAAE,0BAAAb,MAAM,CAAI,CAC1B,MAAOjB,CAAAA,EAAE,CAAC+B,SAAH,CAAad,MAAb,CAAP,CACD,CANuC,CAD5C,EASKK,IATL,CASU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAb,EATlB,EAUKF,IAVL,CAUU,SAAAC,QAAQ,QAAI,CAAA,MAAI,CAACX,QAAL,CAAc,CAACa,OAAO,CAAEF,QAAV,CAAd,CAAJ,EAVlB,EAWH,C,uCAoBQ,CACL,mBACI,4CACI,oBAAC,iBAAD,EAAmB,YAAY,CAAE,KAAKhB,YAAtC,CAAoD,YAAY,CAAE,KAAKQ,YAAvE,CAAqF,MAAM,CAAE,KAAKI,KAAlG,EADJ,cAGI,sDAHJ,CAKK,KACIA,KADJ,CAEIM,OAFJ,CAGIO,GAHJ,CAGQ,SAAAC,OAAO,qBAAK,oBAAC,OAAD,EAAS,GAAG,CAAEA,OAAO,CAACC,EAAtB,CAA0B,IAAI,CAAED,OAAhC,EAAL,EAHf,CALL,CADJ,CAaH,C,uBA9DmBpC,S,EAiExB,cAAeE,CAAAA,UAAU,CAACM,SAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport {withRouter} from 'react-router-dom';\nimport qs from 'qs';\nimport DocInfo from '../../components/doc-info/doc-info.component';\nimport AdvancedSearchBox from '../../components/search-box/advanced-search-box/advanced-search-box.component';\n\nconst SEVER_URL = 'http://localhost:8090';\nconst QUERY_URL = 'query'\n\nclass QueryPage extends Component {\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: '',\n            abstract: '',\n            authors: [],\n            results: []\n        }\n    }\n\n    // only called from the mainpage\n    componentDidMount() {\n        console.log(this.props);\n        const title = this.props.location.search.substring(1);\n        console.log(title);\n        axios\n            .get(`${SEVER_URL}/${QUERY_URL}/title`, {\n            params: {\n                title: title\n            },\n            paramsSerializer: params => {\n              return qs.stringify(params)\n            }\n        })\n            .then(response => response.data)\n            .then(response => this.setState({results: response}));\n    }\n\n    handelChange = (event) => {\n        const { value, name } = event.target;\n        this.setState({[name]: value}, () => console.log(name + ':' + value));\n    }\n\n    handleSubmit = (event) => {\n        axios\n            .get(`${SEVER_URL}/${QUERY_URL}`, {\n            params: {\n                title: this.state.title,\n                abstract: this.state.abstract,\n                author: this.state.author,\n            }\n        })\n            .then(response => response.data)\n            .then(response => this.setState({results: response}));\n    }\n\n    render() {\n        return (\n            <div>\n                <AdvancedSearchBox handlechange={this.handelChange} handlesubmit={this.handleSubmit} states={this.state}/>\n\n                <h1>This is the QueryPage</h1>\n\n                {this\n                    .state\n                    .results\n                    .map(docinfo => (<DocInfo key={docinfo.id} info={docinfo}/>))\n}\n            </div>\n        );\n    }\n}\n\nexport default withRouter(QueryPage);"]},"metadata":{},"sourceType":"module"}